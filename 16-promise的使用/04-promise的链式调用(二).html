<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    /**
     * 1.第一种写法
     */
    /*new Promise((resolve,reject)=>{

        //1.第一次请求代码
        setTimeout(()=>{
            resolve("aaa")
        },1000)
    }).then(res=>{
        console.log(res,"第一次请求的10行处理代码");

        return new Promise(resolve => {
            resolve(res+"111")
        })
    }).then(res=>{
        console.log(res,"第二次请求的10行处理代码");

        return new Promise(resolve => {
            resolve(res+"222")
        })
    }).then(res=>{
        console.log(res,"第三次请求的10行处理代码");
    })*/

    /**
     * 2.第二种写法
     */
    /*new Promise((resolve,reject)=>{

        //1.第一次请求代码
        setTimeout(()=>{
            resolve("aaa")
        },1000)
    }).then(res=>{
        console.log(res,"第一次请求的10行处理代码");

        return Promise.resolve(res+"111")
    }).then(res=>{
        console.log(res,"第二次请求的10行处理代码");

        return Promise.resolve(res+"222")
    }).then(res=>{
        console.log(res,"第三次请求的10行处理代码");
    })*/

    /**
     * 3.第三种写法
     */
    /*new Promise((resolve,reject)=>{

        //1.第一次请求代码
        setTimeout(()=>{
            resolve("aaa")
        },1000)
    }).then(res=>{
        console.log(res,"第一次请求的10行处理代码");

        return res+"111"
    }).then(res=>{
        console.log(res,"第二次请求的10行处理代码");

        return res+"222"
    }).then(res=>{
        console.log(res,"第三次请求的10行处理代码");
    })*/

    /**
     * 4.访问失败时候的调用
     */
    /*new Promise((resolve,reject)=>{

        //1.第一次请求代码
        setTimeout(()=>{
            resolve("aaa")
        },1000)
    }).then(res=>{
        console.log(res,"第一次请求的10行处理代码");

        return Promise.reject("error message")
    }).then(res=>{
        console.log(res,"第二次请求的10行处理代码");

        return Promise.resolve(res+"222")
    }).then(res=>{
        console.log(res,"第三次请求的10行处理代码");
    }).catch(err=>{
        console.log(err);
    })*/

    /**
     * 5.请求失败时的调用二
     */
    new Promise((resolve,reject)=>{

        //1.第一次请求代码
        setTimeout(()=>{
            resolve("aaa")
        },1000)
    }).then(res=>{
        console.log(res,"第一次请求的10行处理代码");

        //return Promise.reject("error message")
        throw "throw error message"
    }).then(res=>{
        console.log(res,"第二次请求的10行处理代码");

        return Promise.resolve(res+"222")
    }).then(res=>{
        console.log(res,"第三次请求的10行处理代码");
    }).catch(err=>{
        console.log(err);
    })
</script>
</body>
</html>